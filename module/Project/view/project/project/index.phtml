<?php

 $title = 'My projects';
 $this->headTitle($title);
 ?>
 <div class="row" id="banner">
     <div class="thumbnail text-center">
         <img src="<?php echo $this->basePath('img/linedata-banner.jpg') ?>" alt=" linedata banner" class="img-responsive">
         <div class="caption">
             <p>We humanize technology</p>
             <center>
             <a href="https://www.linedata.com">My Linedata View</a>
           </center>
         </div>
     </div>
 </div>
 <div class="project_type_title">Active Projects</div>

 <!--     active project  ---------->
 <table id="active_project"class="proj table">
   <thead>
 <tr class="table_header">
     <th>Name</th>
     <th>Nature</th>
     <th>Brief Description</th>
</tr>
  </thead>
  <tbody>
 <?php foreach ($Project as $row) : ?>
   <tr>
     <td><a href="<?=$this->url('Project', array('id' => print_r($row['project_id']) , 'action' => 'show'))?>"><?php  print_r($row['project_name'])?></a></td>
     <td><?php print_r($row['project_nature_en']) ?></td>
     <td><?php print_r($row['brief_description']) ?></td>
</tr>
 <?php endforeach; ?>
</tbody>
 </table>

 <!--     closed project  ---------->
<div class="project_type_title">Closed Projects</div>
 <table  id="closed_project" class="proj table">
<thead>
<tr class="table_header">
     <th>Name</th>
     <th>Nature</th>
     <th>Brief Description</th>
</tr>
</thead>
<tbody>
<?php foreach ($Project2 as $row) : ?>
 <tr>
   <td><a href="<?=$this->url('Project', array('id' => print_r($row['project_id']) , 'action' => 'show'))?>"><?php  print_r($row['project_name'])?></a></td>
   <td><?php print_r($row['project_nature_en']) ?></td>
   <td><?php print_r($row['brief_description']) ?></td>
</tr>
<?php endforeach; ?>
</tbody>
 </table>

  <!--   Released projects ---------->
<div class="project_type_title">Released Projects</div>
<table id="onhold_project" class=" proj table">
  <thead>
      <tr class="table_header">
    <th>Name</th>
    <th>Nature</th>
    <th>Brief Description</th>
      </tr>
    </thead>
    <tbody>
    <?php foreach ($Project3 as $row) : ?>
     <tr>
       <td><a href="<?=$this->url('Project', array('id' => (string)print_r($row['project_id']) , 'action' => 'show'))?>"><?php  print_r($row['project_name'])?></a></td>
       <td><?php print_r($row['project_nature_en']) ?></td>
       <td><?php print_r($row['brief_description']) ?></td>
    </tr>
    <?php endforeach; ?>
    </tbody>
</table>
<!--   Proposed projects ---------->
<div class="project_type_title">Proposed Projects</div>
<table id="onhold_project" class=" proj table">
  <thead>
      <tr class="table_header">
    <th>Name</th>
    <th>Nature</th>
    <th>Brief Description</th>
      </tr>
    </thead>
    <tbody>
    <?php foreach ($Project4 as $row) : ?>
     <tr>
       <td><a href="<?=$this->url('Project', array('id' => print_r($row['project_id']) , 'action' => 'show'))?>"><?php  print_r($row['project_name'])?></a></td>
       <td><?php print_r($row['project_nature_en']) ?></td>
       <td><?php print_r($row['brief_description']) ?></td>
    </tr>
    <?php endforeach; ?>
    </tbody>
</table>
<div class="project_type_title">Abandoned Projects</div>
<table id="onhold_project" class=" proj table">
  <thead>
      <tr class="table_header">
    <th>Name</th>
    <th>Nature</th>
    <th>Brief Description</th>
      </tr>
    </thead>
    <tbody>
    <?php foreach ($Project5 as $row) : ?>
     <tr>
       <td><a href="<?=$this->url('Project', array('id' => print_r($row['project_id']) , 'action' => 'show'))?>"><?php  print_r($row['project_name'])?></a></td>
       <td><?php print_r($row['project_nature_en']) ?></td>
       <td><?php print_r($row['brief_description']) ?></td>
    </tr>
    <?php endforeach; ?>
    </tbody>
</table>
<a id="loadbook" href="#">load information</a>
<table class = "table">
   <tbody id = "book">
   </tbody>
</table>

<script language = "javascript">
$(document).ready(function(){
   $("#loadbook").on("click", function(event){
      $.ajax({
         url:        '/ProjectManagementApp/public/project',
         type:       'POST',
         dataType:   'json',
         async:      true,

         success: function(data, status) {
            var e = $('<tr><th>ID</th><th>Name</th><th>Nature</th><th>Nature</th>Description</tr>');
            $('#book').html('');
            $('#book').append(e);

            for(i = 0; i < data.length; i++) {
               book = data[i];
               var e = $('<tr><td id ="ID"></td><td id ="Name"></td><td id="Nature"></td><td id="Description"></td></tr>');
               $('#ID', e).html(book['id']);
               $('#Name', e).html(book['name']);
               $('#Nature', e).html(book['Nature']);
               $('#Description', e).html(book['description']);
               $('#book').append(e);
            }
         },
         error : function(xhr, textStatus, errorThrown) {
            alert('Ajax request failed.');
         }
      });
   });
});
</script>
  <?php /* -------------------------------------------how to display array object ---------------------------------
  foreach($user as $row){
    echo "<b>";  print_r($row['name']); echo "</b>";
    echo "</br>" ;
    print_r($row['description']);
    echo "</br>" ;
    print_r($row['status']);echo "</br>" ;
    print_r($row['global_status']);echo "</br>" ;
    print_r($row['user_email']);echo "</br>" ;
    echo "</br>" ;echo "</br>" ;
}*/?>
<?php
/* foreach ($Project as $row){
   echo "<b>";  print_r($row['project_id']); print_r($row['project_name']); print_r($row['brief_description']); print_r($row['project_nature_en']); print_r($row['project_id']);echo "</b>";
   echo "</br>" ;
 echo "</br>" ;
}?>*/
